[{"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/index.tsx":"1","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/App.tsx":"2","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/providers/index.tsx":"3","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/store/index.ts":"4","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/theme/index.tsx":"5","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/hooks/useThemeMode.tsx":"6","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/components/Nav/index.tsx":"7","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/api/index.ts":"8","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/views/Account/index.tsx":"9","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/i18n.ts":"10","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/store/userSlice.ts":"11","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/hooks/useTokenList.ts":"12","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/components/TokenListSelect/index.tsx":"13","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/api/client.ts":"14","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/store/otherSlice.ts":"15","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/constant/unisave-list@1.1.10.ts":"16","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/constant/unisave-mattataki@1.3.0.ts":"17","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/hooks/useBalances.ts":"18","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/hooks/useMulticall.ts":"19","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/constant/contracts.ts":"20","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/constant/providers.ts":"21","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/hooks/useSigner.ts":"22","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/constant/index.ts":"23","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/blockchain/contracts/MulticallFactory.ts":"24","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/blockchain/erc20Helper.ts":"25"},{"size":548,"mtime":1624962843787,"results":"26","hashOfConfig":"27"},{"size":436,"mtime":1624962888753,"results":"28","hashOfConfig":"27"},{"size":921,"mtime":1624961535031,"results":"29","hashOfConfig":"27"},{"size":1255,"mtime":1624959827938,"results":"30","hashOfConfig":"31"},{"size":3466,"mtime":1624960052043,"results":"32","hashOfConfig":"31"},{"size":241,"mtime":1624959827934,"results":"33","hashOfConfig":"27"},{"size":181,"mtime":1624962409715,"results":"34","hashOfConfig":"27"},{"size":378,"mtime":1624959827934,"results":"35","hashOfConfig":"31"},{"size":3124,"mtime":1628669468226,"results":"36","hashOfConfig":"27"},{"size":596,"mtime":1624959827934,"results":"37","hashOfConfig":"27"},{"size":1517,"mtime":1624959827938,"results":"38","hashOfConfig":"27"},{"size":3761,"mtime":1628666845984,"results":"39","hashOfConfig":"27"},{"size":5785,"mtime":1628668199197,"results":"40","hashOfConfig":"27"},{"size":1081,"mtime":1624969407531,"results":"41","hashOfConfig":"27"},{"size":281,"mtime":1624959827938,"results":"42","hashOfConfig":"27"},{"size":69733,"mtime":1628666420659,"results":"43","hashOfConfig":"27"},{"size":8079,"mtime":1628666420392,"results":"44","hashOfConfig":"27"},{"size":2503,"mtime":1628667908028,"results":"45","hashOfConfig":"27"},{"size":1647,"mtime":1628668325994,"results":"46","hashOfConfig":"27"},{"size":3639,"mtime":1628668245391,"results":"47","hashOfConfig":"27"},{"size":1071,"mtime":1628668265485,"results":"48","hashOfConfig":"27"},{"size":626,"mtime":1628668311295,"results":"49","hashOfConfig":"27"},{"size":306,"mtime":1624967165023,"results":"50","hashOfConfig":"27"},{"size":3025,"mtime":1628668169099,"results":"51","hashOfConfig":"27"},{"size":1540,"mtime":1628669188000,"results":"52","hashOfConfig":"27"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"zfx4ef",{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},"1p15vig",{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"78","messages":"79","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"91"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"91"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/index.tsx",[],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/App.tsx",[],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/providers/index.tsx",[],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/store/index.ts",[],["107","108"],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/theme/index.tsx",[],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/hooks/useThemeMode.tsx",[],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/components/Nav/index.tsx",[],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/api/index.ts",[],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/views/Account/index.tsx",["109","110","111"],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/i18n.ts",[],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/store/userSlice.ts",[],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/hooks/useTokenList.ts",["112"],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/components/TokenListSelect/index.tsx",["113"],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/api/client.ts",[],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/store/otherSlice.ts",[],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/constant/unisave-list@1.1.10.ts",[],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/constant/unisave-mattataki@1.3.0.ts",[],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/hooks/useBalances.ts",["114","115","116","117"],"import { BigNumber, BigNumberish, utils } from 'ethers';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useWallet } from 'use-wallet';\nimport { useLastUpdated } from './useLastUpdated';\nimport { staticMulticall } from './useMulticall';\n\ntype BalanceSheet = Record<string, BigNumber | undefined>;\n\nconst ABI = ['function balanceOf(address) view returns (uint256)'];\nconst balanceOfInterface = new utils.Interface(ABI);\n\nexport function useBalances(tokens: string[]) {\n  // make sure every `tokens` addresses is checksumed\n  const checksumedTokenAddresses = useMemo(\n    () => tokens.map(t => utils.getAddress(t)),\n    [tokens]\n  );\n\n  const { account } = useWallet();\n  const [balanceSheet, setBalances] = useState<BalanceSheet>({});\n  const { lastUpdated, updated } = useLastUpdated();\n\n  const balanceOf = useCallback(\n    (target: string) => {\n      // @todo: if `target` not exist, enlist the `target` into the BalanceSheet and update\n      return balanceSheet[utils.getAddress(target)] || BigNumber.from(0);\n    },\n    [tokens.join(), balanceSheet]\n  );\n\n  const fetchBalances = useCallback(async () => {\n    if (!account) return;\n    // const result = await tokens.balanceOf(account as string);\n    // setBalances(result);\n    const calls = checksumedTokenAddresses.map(target => ({\n      target,\n      callData: balanceOfInterface.encodeFunctionData('balanceOf', [account]),\n    }));\n    const { returnData } = await staticMulticall.callStatic.aggregate(calls);\n    console.info('returnData', returnData);\n    const sheet: BalanceSheet = {};\n    checksumedTokenAddresses.forEach((token, idx) => {\n      let [balance] = balanceOfInterface.decodeFunctionResult(\n        'balanceOf',\n        returnData[idx]\n      );\n      sheet[token] = balance as BigNumber;\n    });\n    console.info('sheet', sheet);\n    setBalances(sheet);\n    updated();\n  }, [checksumedTokenAddresses.join(), account]);\n  /**\n   * use Dan's example\n   * https://github.com/facebook/react/issues/14326#issuecomment-441680293\n   */\n  useEffect(() => {\n    if (tokens.length === 0 || !account) return;\n    // if (account && tokens) {\n    fetchBalances();\n    // }\n    let refreshInterval = setInterval(fetchBalances, 1000 * 10);\n    return () => clearInterval(refreshInterval);\n  }, [account, fetchBalances, tokens]);\n\n  const isEnough = useCallback(\n    (target: string, x: BigNumberish) => balanceOf(target).gte(x),\n    [balanceSheet, balanceOf]\n  );\n\n  return { balanceOf, isEnough, lastUpdated };\n}\n",["118","119"],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/hooks/useMulticall.ts",["120"],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/constant/contracts.ts",[],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/constant/providers.ts",[],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/hooks/useSigner.ts",["121","122"],"import { ethers } from 'ethers';\nimport React, { useMemo } from 'react';\nimport { useWallet } from 'use-wallet';\n\nexport function useSigner(addressOrIndex?: string | number) {\n  const wallet = useWallet();\n  const signer = useMemo(() => {\n    if (!wallet.ethereum) return null;\n    const provider = new ethers.providers.Web3Provider(wallet.ethereum as any);\n    return provider.getSigner(addressOrIndex);\n  }, [wallet.ethereum]);\n\n  function isSignerReady(\n    signer: ethers.providers.JsonRpcSigner | null\n  ): signer is ethers.providers.JsonRpcSigner {\n    return Boolean(signer);\n  }\n\n  return { signer, isSignerReady };\n}\n","/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/constant/index.ts",[],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/blockchain/contracts/MulticallFactory.ts",[],"/Users/xiaotian/Code/cli-ant-temp/react-chain-temp/src/blockchain/erc20Helper.ts",[],{"ruleId":"123","replacedBy":"124"},{"ruleId":"125","replacedBy":"126"},{"ruleId":"127","severity":1,"message":"128","line":14,"column":9,"nodeType":"129","messageId":"130","endLine":14,"endColumn":18},{"ruleId":"127","severity":1,"message":"131","line":14,"column":20,"nodeType":"129","messageId":"130","endLine":14,"endColumn":25},{"ruleId":"127","severity":1,"message":"132","line":35,"column":5,"nodeType":"129","messageId":"130","endLine":35,"endColumn":17},{"ruleId":"133","severity":1,"message":"134","line":78,"column":6,"nodeType":"135","endLine":78,"endColumn":8,"suggestions":"136"},{"ruleId":"127","severity":1,"message":"137","line":5,"column":18,"nodeType":"129","messageId":"130","endLine":5,"endColumn":24},{"ruleId":"133","severity":1,"message":"138","line":28,"column":6,"nodeType":"139","endLine":28,"endColumn":19},{"ruleId":"133","severity":1,"message":"140","line":52,"column":6,"nodeType":"135","endLine":52,"endColumn":48,"suggestions":"141"},{"ruleId":"133","severity":1,"message":"138","line":52,"column":7,"nodeType":"139","endLine":52,"endColumn":38},{"ruleId":"133","severity":1,"message":"142","line":68,"column":5,"nodeType":"135","endLine":68,"endColumn":30,"suggestions":"143"},{"ruleId":"123","replacedBy":"144"},{"ruleId":"125","replacedBy":"145"},{"ruleId":"133","severity":1,"message":"146","line":22,"column":6,"nodeType":"135","endLine":22,"endColumn":14,"suggestions":"147"},{"ruleId":"127","severity":1,"message":"148","line":2,"column":8,"nodeType":"129","messageId":"130","endLine":2,"endColumn":13},{"ruleId":"133","severity":1,"message":"149","line":11,"column":6,"nodeType":"135","endLine":11,"endColumn":23,"suggestions":"150"},"no-native-reassign",["151"],"no-negated-in-lhs",["152"],"@typescript-eslint/no-unused-vars","'Paragraph' is assigned a value but never used.","Identifier","unusedVar","'Title' is assigned a value but never used.","'tokenProfile' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'tokenListFetch'. Either include it or remove the dependency array.","ArrayExpression",["153"],"'Button' is defined but never used.","React Hook useCallback has a complex expression in the dependency array. Extract it to a separate variable so it can be statically checked.","CallExpression","React Hook useCallback has missing dependencies: 'checksumedTokenAddresses' and 'updated'. Either include them or remove the dependency array.",["154"],"React Hook useCallback has an unnecessary dependency: 'balanceSheet'. Either exclude it or remove the dependency array.",["155"],["151"],["152"],"React Hook useMemo has a missing dependency: 'isSignerReady'. Either include it or remove the dependency array.",["156"],"'React' is defined but never used.","React Hook useMemo has a missing dependency: 'addressOrIndex'. Either include it or remove the dependency array.",["157"],"no-global-assign","no-unsafe-negation",{"desc":"158","fix":"159"},{"desc":"160","fix":"161"},{"desc":"162","fix":"163"},{"desc":"164","fix":"165"},{"desc":"166","fix":"167"},"Update the dependencies array to be: [tokenListFetch]",{"range":"168","text":"169"},"Update the dependencies array to be: [account, checksumedTokenAddresses, updated]",{"range":"170","text":"171"},"Update the dependencies array to be: [balanceOf]",{"range":"172","text":"173"},"Update the dependencies array to be: [isSignerReady, signer]",{"range":"174","text":"175"},"Update the dependencies array to be: [addressOrIndex, wallet.ethereum]",{"range":"176","text":"177"},[2383,2385],"[tokenListFetch]",[1878,1920],"[account, checksumedTokenAddresses, updated]",[2422,2447],"[balanceOf]",[811,819],"[isSignerReady, signer]",[410,427],"[addressOrIndex, wallet.ethereum]"]